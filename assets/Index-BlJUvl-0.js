import { d as q, u as H, r as Q, a, o as Z, c as n, b as e, e as o, F as W, f as ee, w as se, v as te, g as le, i as ae, t as d, h as r, p as ie, j as ce, k as M, _ as oe } from "./index-yJSF2u44.js"; import { a as S } from "./axios-Bo0ATomq.js"; const h = f => (ie("data-v-b6f0d511"), f = f(), ce(), f), ue = h(() => e("link", { rel: "stylesheet", href: "https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css" }, null, -1)), ne = h(() => e("link", { rel: "stylesheet", href: "https://unpkg.com/boxicons@latest/css/boxicons.min.css" }, null, -1)), re = { class: "container" }, me = { class: "item" }, de = { class: "video" }, he = ["src"], ve = { class: "wrap" }, fe = { class: "body-wrap" }, pe = { class: "body" }, ge = { class: "comm-item-wrap" }, _e = { class: "comm-left" }, Ne = ["src"], be = { class: "comm-right-wrap" }, ye = { class: "comm-right" }, we = { class: "name" }, ke = { class: "word-content" }, xe = { class: "input-wrap" }, Le = { class: "input" }, Be = { class: "sidebar" }, Ie = { class: "img" }, Ce = ["src"], Ae = { class: "heart icon" }, ze = { class: "message icon" }, We = { class: "star icon" }, Me = { class: "share icon" }, Se = { class: "sharelist-wrap" }, je = h(() => e("p", null, "分享到抖音账号", -1)), Te = h(() => e("p", null, "分享到抖音好友", -1)), Ve = h(() => e("p", null, "分享到第三方平台", -1)), Ue = h(() => e("p", null, [M(" 请您务必点击结束观看，否则会影响您的作答结果！ "), e("br"), M(" 点击后请您返回问卷继续作答，非常感谢！ ")], -1)), De = q({ __name: "Index", setup(f) { let { phoneNum: A, version: N, changePhoneNum: Ee, changeVersion: Fe } = H(), z = "昵称", b = []; for (let t = 0; t < 8; t++) { let l = { id: t + 1, videoSrc: `../(${t + 1}).mp4`, headImg: "../img/中新网.jpg", heartNum: "10.0W", messageNum: "9998", starNum: "3990", shareNum: "4.4W", commbody: [] }; b.push(l); let c = { id: t + 2, videoSrc: `../(${t + 1}).mp4`, headImg: "../img/中新网.jpg", heartNum: "1023", messageNum: "54", starNum: "23", shareNum: "498", commbody: [] }; b.push(c) } let s = Q(b[N - 1]), p = a(), j = a(), g = a(), T = a(), _ = a(), u = a(), m = a(), y = a(), w = a(), k = a(), V = a(), U = a(), i = [], x = 0, L = 0; Z(() => { S.get("https://www.mapleleaf.space/api/get").then(t => { L = t.data.data, x = L }).catch(t => { console.log(t.response.data.message) }), setTimeout(() => { alert(" 观看结束后请往下滑继续作答，谢谢！ ") }, 3e3) }); function D() { p.value.classList.toggle("active"), p.value.classList.value.includes("active") ? typeof s.heartNum == "number" ? s.heartNum = Number(s.heartNum) + 1 : s.heartNum.includes("W") || (s.heartNum = Number(s.heartNum) + 1) : typeof s.heartNum == "number" ? s.heartNum = Number(s.heartNum) - 1 : s.heartNum.includes("W") || (s.heartNum = Number(s.heartNum) - 1) } function E() { _.value.classList.toggle("active"), u.value.classList.toggle("active"), m.value.classList.value.includes("active") && m.value.classList.toggle("active") } function F() { g.value.classList.toggle("active"), g.value.classList.value.includes("active") ? typeof s.starNum == "number" ? s.starNum = Number(s.starNum) + 1 : s.starNum.includes("W") || (s.starNum = Number(s.starNum) + 1) : typeof s.starNum == "number" ? s.starNum = Number(s.starNum) - 1 : s.starNum.includes("W") || (s.starNum = Number(s.starNum) - 1) } function K() { m.value.classList.toggle("active") } function P() { _.value.classList.value.includes("active") && (_.value.classList.toggle("active"), u.value.classList.toggle("active")), m.value.classList.value.includes("active") && m.value.classList.toggle("active"), u.value.classList.value.includes("active") == !1 && (u.value.paused ? u.value.play() : u.value.pause()) } function G() { y.value.classList.toggle("active") } function J() { w.value.classList.toggle("active") } function O() { k.value.classList.toggle("active") } function R() { i.trim() != "" && (s.commbody.push({ user: 1, headImg: "../img/user.jpg", personName: z, content: i.trim() }), i = "", alert.value.style.display = "none", typeof s.messageNum == "number" ? (s.messageNum = Number(s.messageNum) + 1, s.messageNum >= 1e4 && (s.messageNum = "1W")) : s.messageNum.includes("W") || (s.messageNum = Number(s.messageNum) + 1)) } function X() { i.trim() != "" && (s.commbody.push({ user: 1, headImg: "https://gitcode.net/T_J_J_/picture/-/raw/master/TONGTANGKUI.png", personName: z, content: i.trim() }), i = "", alert.value.style.display = "none", typeof s.messageNum == "number" ? s.messageNum = Number(s.messageNum) + 1 : s.messageNum.includes("W") || (s.messageNum = Number(s.messageNum) + 1)) } let B = !0, I = !0, C = [], v = []; function Y() { B = !!p.value.classList.value.includes("active"), I = !!g.value.classList.value.includes("active"), v[0] = y.value.classList.value.includes("active") ? 1 : 0, v[1] = w.value.classList.value.includes("active") ? 1 : 0, v[2] = k.value.classList.value.includes("active") ? 1 : 0; for (let l = 0; l < s.commbody.length; l++)s.commbody[l].user && (C[l] = s.commbody[l].content); let t = { method: "post", url: "https://www.mapleleaf.space/api/post", data: { version: N, user: A, heartNum: B, starNum: I, commtMsg: C, shareMsg: v } }; console.log(N, A, B, I, C, v), L == x ? S(t).then(l => { alert("感谢填写问卷"), x++ }).catch(l => { console.log(l) }) : alert("谢谢参与") } return (t, l) => (r(), n(W, null, [ue, ne, e("ul", re, [e("li", me, [e("div", de, [e("video", { ref_key: "video", ref: u, onClick: P, src: o(s).videoSrc }, null, 8, he)]), e("div", { class: "comm", ref_key: "comm", ref: _ }, [e("div", ve, [e("div", fe, [e("div", pe, [e("ul", null, [(r(!0), n(W, null, ee(o(s).commbody, (c, $) => (r(), n("li", { ref_for: !0, ref_key: "commBody", ref: V, class: "comm-item", key: $ }, [e("div", ge, [e("div", _e, [e("img", { src: c.headImg, alt: "" }, null, 8, Ne)]), e("div", be, [e("div", ye, [e("h5", we, d(c.personName), 1), e("div", ke, [e("p", null, d(c.content), 1)])])])])]))), 128)), e("li", { class: "alert", ref_key: "aler", ref: U, style: { color: "#666" } }, "其他评论暂不可见，如有想法，您可以在下方评论框进行评论", 512)])])]), e("div", xe, [e("div", Le, [se(e("input", { onKeyup: le(R, ["enter"]), "onUpdate:modelValue": l[0] || (l[0] = c => ae(i) ? i.value = c : i = c), type: "text", placeholder: "善语结善缘，恶言伤人心" }, null, 544), [[te, o(i)]]), e("button", { onClick: X }, "发送")])])])], 512), e("div", Be, [e("ul", null, [e("li", Ie, [e("img", { src: o(s).headImg, alt: "" }, null, 8, Ce)]), e("li", Ae, [(r(), n("svg", { onClick: D, width: "18", height: "18", fill: "none", xmlns: "http://www.w3.org/2000/svg", class: "Np1soFLz", viewBox: "0 0 36 37" }, [e("path", { ref_key: "heart", ref: p, "fill-rule": "evenodd", "clip-rule": "evenodd", d: "M18.215 10.124c1.098-1.565 2.901-2.392 4.886-2.392 3.778 0 6.921 3.278 6.921 7.175v0l-.002.257c-.002.085-.003.128.003.142-.014.82-.156 1.497-.407 2.391-.143.161-.275.464-.407.798-.209.323-.287.48-.408.797-.098.166-.202.332-.31.499-1.027 1.585-2.428 3.168-3.825 4.565-2.1 2.114-4.232 3.872-5.163 4.64-.258.212-.424.349-.47.396-.332.33-.663.34-.994.34h-.028c-.68 0-1.02-.34-1.36-.68a3.166 3.166 0 00-.192-.16c-1.032-.761-3.366-2.627-5.553-4.876-1.656-1.687-3.248-3.62-4.122-5.51-.34-.681-.764-2.301-.784-3.2.007-.007.006-.05.004-.137-.002-.063-.004-.15-.004-.262 0-3.899 3.141-7.175 6.922-7.175 1.98 0 3.785.827 5.293 2.392z", fill: "#fff" }, null, 512)])), e("h6", null, d(o(s).heartNum), 1)]), e("li", ze, [(r(), n("svg", { onClick: E, width: "18", height: "18", fill: "none", xmlns: "http://www.w3.org/2000/svg", class: "zInWpoa2", viewBox: "0 0 36 37" }, [e("path", { ref_key: "message", ref: j, "fill-rule": "evenodd", "clip-rule": "evenodd", d: "M29.25 17.444c0 2.71-1.304 5.039-3.536 7.274-.196.197-.404.392-.62.584-1.953 2.171-3.86 3.436-5.583 3.94-2.243.657-1.376-2.42-1.348-2.518v-.002c-6.214 0-11.413-3.777-11.413-9.278S11.787 7.483 18 7.483c6.214 0 11.25 4.46 11.25 9.96zm-16.715 1.848c.888 0 1.608-.714 1.608-1.596 0-.88-.72-1.595-1.608-1.595-.887 0-1.607.714-1.607 1.595 0 .882.72 1.596 1.607 1.596zm7.072-1.596c0 .882-.72 1.596-1.607 1.596a1.602 1.602 0 01-1.608-1.596c0-.88.72-1.595 1.608-1.595.887 0 1.607.714 1.607 1.595zm3.857 1.596c.888 0 1.607-.714 1.607-1.596a1.6 1.6 0 00-1.607-1.595c-.887 0-1.607.714-1.607 1.595 0 .882.72 1.596 1.607 1.596z", fill: "#fff" }, null, 512)])), e("h6", null, d(o(s).messageNum), 1)]), e("li", We, [(r(), n("svg", { onClick: F, width: "18", height: "18", fill: "none", xmlns: "http://www.w3.org/2000/svg", class: "PUzNBYEi", viewBox: "0 0 36 36" }, [e("path", { ref_key: "star", ref: g, d: "M16.51 7.927c.515-1.38 2.465-1.38 2.98 0l2.333 6.243 6.653.291c1.47.064 2.072 1.92.921 2.836l-5.212 4.15 1.78 6.422c.393 1.42-1.184 2.566-2.411 1.753L18 25.944l-5.554 3.678c-1.227.813-2.804-.334-2.41-1.753l1.78-6.422-5.213-4.15c-1.151-.916-.549-2.772.92-2.836l6.655-.291 2.332-6.243z", fill: "#fff" }, null, 512)])), e("h6", null, d(o(s).starNum), 1)]), e("li", Me, [(r(), n("svg", { onClick: K, width: "18", height: "18", fill: "none", xmlns: "http://www.w3.org/2000/svg", class: "X4s4PuNV", viewBox: "0 0 36 36" }, [e("path", { ref_key: "share", ref: T, "fill-rule": "evenodd", "clip-rule": "evenodd", d: "M21.884 9.416c-1.209-1.156-3.214-.3-3.214 1.374v2.396c-.132 0-.263 0-.393.003-1.402-.038-6.254.115-9.667 3.775-2.361 2.533-3.423 6.562-3.357 8.642-.062 2.073.905 1.887 1.165 1.41 2.976-5.462 12.252-3.791 12.252-3.791v2.264c0 1.637 1.932 2.508 3.159 1.425l7.989-7.06a1.9 1.9 0 00.055-2.797l-7.99-7.64z", fill: "#fff" }, null, 512)])), e("h6", null, d(o(s).shareNum), 1)])])]), e("div", { class: "share-lis", ref_key: "shareBar", ref: m }, [e("div", Se, [e("ul", null, [e("li", null, [e("i", { ref_key: "shareA1", ref: y, onClick: G, class: "bx bx-share-alt", "data-check": "0" }, null, 512), je]), e("li", null, [e("i", { ref_key: "shareA2", ref: w, onClick: J, class: "bx bx-link-alt", "data-check": "0" }, null, 512), Te]), e("li", null, [e("i", { ref_key: "shareA3", ref: k, onClick: O, class: "bx bx-message-rounded-dots", "data-check": "0" }, null, 512), Ve])])])], 512)]), e("li", { class: "final" }, [e("button", { onClick: Y }, "点击结束观看"), Ue])])], 64)) } }), Ge = oe(De, [["__scopeId", "data-v-b6f0d511"]]); export { Ge as default };
